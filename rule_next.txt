# GitHub工具合集 - 分层扩展规则（极简可实施版）

## 1. 核心原则延续

### 1.1 保持分层架构
- 子项目层：规则最严，保持极简
- trace层：规则适度，支持扩展
- service层：规则适度，功能集成
- 根目录层：自由灵活，无限制
- 特殊文件夹：不符合命名规则的文件夹，暂时无限制

### 1.2 内容定位（结合实际）
- **子项目层**：单一功能模块，原子性工具，如GitHub-checker、GitHub-guardian-守护进程等
- **trace层**：诊断、监控、追踪功能，如连接诊断、DNS解析、IP测速等
- **service层**：业务逻辑集成，多模块协作，如自动诊断、修复服务等
- **根目录层**：启动脚本，全局配置，工具入口，如main_gui.py、start.bat等
- **特殊文件夹**：辅助工具，通用库，如github_utils等

### 1.3 极简优先
- 扩展规则必须服务于极简理念
- 避免复杂流程和冗余规范
- 规则可实施，易操作
- 优先保证工具的实用性和易用性

### 1.4 兼容现有
- 不破坏rule2.txt的核心规则
- 支持平滑过渡
- 尊重现有项目的命名习惯（如支持中文描述）

## 2. 子项目层扩展（可实施）

### 2.1 命名规则
- 支持中文描述：如GitHub-guardian-守护进程
- 保持功能明确：名称应反映核心功能

### 2.2 结构规则
- 1个主要代码文件
- 可选JSON配置文件
- 自动生成的__pycache__目录除外

### 2.3 文档建议
- 建议添加README.md，说明功能和使用方法
- 关键逻辑添加单行注释
- 复杂功能添加简要文档

### 2.4 依赖建议
- 优先使用Python标准库
- 允许使用少量稳定的第三方依赖
- 依赖需在代码中明确说明

## 3. trace层扩展（可实施）

### 3.1 结构建议
- 保持扁平结构，单个文件对应单个功能
- 允许创建子目录组织相关功能

### 3.2 代码建议
- 保持代码模块化，功能单一
- 关键函数添加文档字符串
- 支持错误处理和日志记录

### 3.3 依赖规则
- 可依赖Python标准库
- 可依赖子项目层的功能模块
- 支持动态加载子项目模块

## 4. service层扩展（可实施）

### 4.1 结构建议
- 单个代码文件，≤400行
- 可选JSON配置文件

### 4.2 代码建议
- 必须引用至少一个trace层的内容
- 功能集成性强，模块化设计
- 支持多模块协作和流程编排

### 4.3 功能建议
- 实现业务逻辑集成
- 提供统一的服务接口
- 支持自动诊断和修复流程

## 5. 根目录层扩展（可实施）

### 5.1 工具集成
- 允许创建统一启动脚本（如main_gui.py、start.bat）
- 支持批量运行子项目
- 可实现简单的配置管理

### 5.2 配置管理
- 根目录config.json作为全局配置
- 子项目可使用独立配置文件

## 6. 特殊文件夹建议

### 6.1 定位
- github_utils：通用工具库，提供跨模块复用功能
- 其他辅助工具：支持项目开发和维护的工具

### 6.2 管理建议
- 按功能模块组织代码
- 关键功能添加注释
- 保持代码的通用性和可复用性

## 7. 通用最佳实践（极简）

### 7.1 版本控制
- 建议使用git分支：main（稳定）、feature/xxx（开发）、fix/xxx（修复）
- 提交信息简洁明了
- 避免提交编译文件和临时文件

### 7.2 安全建议
- 禁止硬编码敏感信息
- 使用环境变量管理配置（可选）

### 7.3 性能建议
- 子项目单次执行时间建议≤5秒
- 内存占用建议≤100MB
- 优先保证工具的响应速度

## 8. 实施建议

### 8.1 渐进式实施
- 先从核心功能开始扩展
- 逐步完善规则
- 允许例外情况

### 8.2 工具优先
- 规则服务于工具功能
- 避免为了规则而牺牲功能
- 保持工具的易用性

### 8.3 定期回顾
- 定期评估规则的有效性
- 及时调整不适用的规则
- 保持规则的灵活性
